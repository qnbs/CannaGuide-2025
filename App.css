:root {
  /* Variables for component backgrounds and borders are now defined per-theme in index.html */
}

html {
  font-family: 'Inter', 'sans-serif';
  color: rgb(var(--color-neutral-200));
  background-color: rgb(var(--color-bg-primary));
}

body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Scrollbar Styles */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
::-webkit-scrollbar-track {
  background: rgba(var(--color-bg-primary), 0.5);
}
::-webkit-scrollbar-thumb {
  background-color: rgb(var(--color-primary-800));
  border-radius: 5px;
  border: 2px solid transparent;
  background-clip: content-box;
}
::-webkit-scrollbar-thumb:hover {
  background-color: rgb(var(--color-primary-600));
}

/* Opaque Pane Style */
.glass-pane {
  background-color: rgb(var(--color-bg-component));
  border: 1px solid rgb(var(--color-border));
  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.1);
}

/* Prose Typography Overrides */
.prose h2, .prose .text-2xl,
.prose-invert h2, .prose-invert .text-2xl {
  color: rgb(var(--color-primary-400));
}

.prose h3, .prose .text-xl,
.prose-invert h3, .prose-invert .text-xl {
  color: rgb(var(--color-primary-300));
}

.prose p, .prose li, .prose ul, .prose ol, .prose strong,
.prose-invert p, .prose-invert li, .prose-invert ul, .prose-invert ol, .prose-invert strong {
  color: rgb(var(--color-neutral-200));
}

.prose a, .prose-invert a {
    color: rgb(var(--color-primary-400));
}
.prose a:hover, .prose-invert a:hover {
    color: rgb(var(--color-primary-300));
}

/* Toast Notifications */
#toast-container {
  position: fixed;
  top: 1rem;
  right: 1rem;
  z-index: 9999;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  align-items: flex-end;
}

@keyframes toast-in { from { opacity: 0; transform: translateX(100%); } to { opacity: 1; transform: translateX(0); } }
@keyframes toast-out { from { opacity: 1; transform: translateX(0); } to { opacity: 0; transform: translateX(100%); } }

.toast {
  /* Inherits .glass-pane styling */
  background-color: rgb(var(--color-bg-component));
  border: 1px solid rgb(var(--color-border));
}

.toast.toast-entering {
  animation: toast-in 0.3s ease-out forwards;
}

.toast.toast-exiting {
  animation: toast-out 0.3s ease-in forwards;
}

/* Skeleton Loader */
@keyframes skeleton-pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

.skeleton-pulse {
  animation: skeleton-pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  @apply bg-slate-700;
}

/* History Chart */
.history-chart-grid {
  stroke: rgb(var(--color-neutral-700));
}

.history-chart-labels {
  fill: rgb(var(--color-neutral-400));
  font-size: 10px;
}

/* Range Slider */
.range-slider-input {
  -webkit-appearance: none; appearance: none;
  width: 100%; height: 0.5rem;
  background: transparent;
  pointer-events: none;
}
.range-slider-input::-webkit-slider-thumb {
  -webkit-appearance: none; appearance: none;
  width: 1.1rem; height: 1.1rem;
  background: var(--thumb-color, #84cc16);
  cursor: pointer; border-radius: 50%;
  border: 2px solid rgb(var(--color-bg-primary));
  box-shadow: 0 0 0 1px rgba(0,0,0,0.1);
  pointer-events: auto;
  margin-top: -0.3rem;
  transform: scale(var(--thumb-scale, 1));
  transition: transform 0.2s ease, background-color 0.2s ease;
}
.range-slider-input:focus-visible::-webkit-slider-thumb {
  --tw-ring-color: var(--thumb-color, #84cc16);
  box-shadow: 0 0 0 2px rgb(var(--color-bg-primary)), 0 0 0 4px var(--tw-ring-color);
}
.range-slider-input::-moz-range-thumb {
  width: 1.1rem; height: 1.1rem;
  background: var(--thumb-color, #84cc16);
  cursor: pointer; border-radius: 50%;
  border: 2px solid rgb(var(--color-bg-primary));
  box-shadow: 0 0 0 1px rgba(0,0,0,0.1);
  pointer-events: auto;
  transform: scale(var(--thumb-scale, 1));
  transition: transform 0.2s ease, background-color 0.2s ease;
}
.range-slider-input:focus-visible::-moz-range-thumb {
   --tw-ring-color: var(--thumb-color, #84cc16);
   box-shadow: 0 0 0 2px rgb(var(--color-bg-primary)), 0 0 0 4px var(--tw-ring-color);
}

/* Favorite Button */
.favorite-btn-glow { transition: color 0.2s, transform 0.2s; }
.favorite-btn-glow:hover { transform: scale(1.1); }
.favorite-btn-glow.is-favorite {
  color: rgb(var(--color-primary-400));
}

/* Plant Detailed View Action Bar */
.action-bar {
  position: sticky;
  bottom: 0;
  margin: 1.5rem -1.5rem -1.5rem; /* Bleed into padding */
  padding: 0.75rem 1.5rem;
  background-color: rgb(var(--color-bg-component));
  border-top: 1px solid rgb(var(--color-border));
  z-index: 20;
}

/* Knowledge Guide Checklist */
.checklist { list-style: none !important; padding-left: 0 !important; }
.checklist li { margin-top: 0.75rem !important; margin-bottom: 0.75rem !important; }
.checklist input[type="checkbox"] { margin-top: -3px; }
.checklist input[type="checkbox"]:focus-visible, input[type="checkbox"]:focus-visible {
  outline: 2px solid rgb(var(--color-primary-500)); outline-offset: 2px;
}
.checklist input[type="checkbox"]:checked + span {
    text-decoration: line-through;
    color: rgb(var(--color-neutral-400));
}

/* Knowledge Journey Step */
.journey-step-line { transition: background-color 0.3s; }
.group:last-child .journey-step-line { display: none; }
.journey-step-icon { transition: transform 0.3s, border-color 0.3s; }
.journey-step-icon.is-open {
    transform: scale(1.1);
    border-color: rgb(var(--color-primary-500));
}