<!DOCTYPE html>
<html lang="en">
  <head>
    <script type="importmap">
{
  "imports": {
    "@/": "./",
    "zod": "https://aistudiocdn.com/zod@^3.23.8",
    "jspdf-autotable": "https://aistudiocdn.com/jspdf-autotable@^3.8.2",
    "jspdf": "https://aistudiocdn.com/jspdf@^2.5.1",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.19.0",
    "react-dom": "https://aistudiocdn.com/react-dom@^19.1.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "i18next": "https://aistudiocdn.com/i18next@^25.5.2",
    "react-i18next": "https://aistudiocdn.com/react-i18next@^15.0.0",
    "reselect": "https://aistudiocdn.com/reselect@^5.1.1",
    "immer": "https://aistudiocdn.com/immer@^10.1.3",
    "d3": "https://aistudiocdn.com/d3@^7.9.0",
    "immer/": "https://aistudiocdn.com/immer@^10.1.3/",
    "@reduxjs/toolkit": "https://aistudiocdn.com/@reduxjs/toolkit@^2.2.6",
    "react-redux": "https://aistudiocdn.com/react-redux@^9.1.2",
    "@reduxjs/toolkit/": "https://aistudiocdn.com/@reduxjs/toolkit@^2.2.6/",
    "zustand/": "https://aistudiocdn.com/zustand@^5.0.8/",
    "d3-hierarchy": "https://aistudiocdn.com/d3-hierarchy@^3.1.2",
    "vite": "https://aistudiocdn.com/vite@^7.1.9",
    "path": "https://aistudiocdn.com/path@^0.12.7",
    "@vitejs/plugin-react": "https://aistudiocdn.com/@vitejs/plugin-react@^5.0.4",
    "@testing-library/react": "https://aistudiocdn.com/@testing-library/react@^16.3.0",
    "vitest": "https://aistudiocdn.com/vitest@^3.2.4",
    "vitest/": "https://aistudiocdn.com/vitest@^3.2.4/",
    "@testing-library/jest-dom/": "https://aistudiocdn.com/@testing-library/jest-dom@^6.9.1/"
  }
}
</script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CannaGuide 2025 - Cannabis Grow Guide with Gemini</title>
    <meta name="description" content="Cannabis Grow Guide with Gemini - Your AI-powered digital companion for the entire cannabis cultivation cycle. Track plants, explore over 500 strains, get AI equipment advice, and master your grow with an interactive guide." />

    <!-- PWA -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#0F172A" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="CannaGuide 2025" />
    <link rel="icon" href="favicon.ico" sizes="any" />
    <link rel="icon" href="icon.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="icon.svg" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,600;1,400&family=Inter:wght@400;500;600;700&family=Lexend:wght@700&display=swap" rel="stylesheet">

    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <style>
      :root, :root.dark.theme-midnight { color-scheme: dark; --color-bg-primary: 15 23 42; --color-bg-component: 30 41 59; --color-border: 51 65 85; --color-primary-50: 236 254 255; --color-primary-100: 207 250 254; --color-primary-200: 165 243 252; --color-primary-300: 103 232 249; --color-primary-400: 34 211 238; --color-primary-500: 6 182 212; --color-primary-600: 8 145 178; --color-primary-700: 14 116 144; --color-primary-800: 21 94 117; --color-primary-900: 22 78 99; --color-primary-950: 8 51 68; --color-accent-50: 247 254 231; --color-accent-100: 236 252 203; --color-accent-200: 217 249 157; --color-accent-300: 190 242 100; --color-accent-400: 163 230 53; --color-accent-500: 132 204 22; --color-accent-600: 101 163 13; --color-accent-700: 77 124 15; --color-accent-800: 63 98 18; --color-accent-900: 53 79 22; --color-accent-950: 24 39 12; --color-secondary-50: 245 243 255; --color-secondary-100: 237 233 254; --color-secondary-200: 221 214 254; --color-secondary-300: 196 181 253; --color-secondary-400: 167 139 250; --color-secondary-500: 139 92 246; --color-secondary-600: 124 58 237; --color-secondary-700: 109 40 217; --color-secondary-800: 91 33 182; --color-secondary-900: 76 29 149; --color-secondary-950: 46 16 101; --color-neutral-50: 248 250 252; --color-neutral-100: 241 245 249; --color-neutral-200: 226 232 240; --color-neutral-300: 203 213 225; --color-neutral-400: 148 163 184; --color-neutral-500: 100 116 139; --color-neutral-600: 71 85 105; --color-neutral-700: 51 65 85; --color-neutral-800: 30 41 59; --color-neutral-900: 15 23 42; --color-neutral-950: 3 7 18; --color-text-on-accent: 255 255 255; --color-success: 74 222 128; --color-warning: 250 204 21; --color-danger: 239 68 68; --color-info: 59 130 246; }
    </style>
    <script>
      tailwind.config = {
        darkMode: 'class',
        important: '#root',
        theme: {
          extend: {
            colors: {
              primary: { 50: 'rgb(var(--color-primary-50) / <alpha-value>)', 100: 'rgb(var(--color-primary-100) / <alpha-value>)', 200: 'rgb(var(--color-primary-200) / <alpha-value>)', 300: 'rgb(var(--color-primary-300) / <alpha-value>)', 400: 'rgb(var(--color-primary-400) / <alpha-value>)', 500: 'rgb(var(--color-primary-500) / <alpha-value>)', 600: 'rgb(var(--color-primary-600) / <alpha-value>)', 700: 'rgb(var(--color-primary-700) / <alpha-value>)', 800: 'rgb(var(--color-primary-800) / <alpha-value>)', 900: 'rgb(var(--color-primary-900) / <alpha-value>)', 950: 'rgb(var(--color-primary-950) / <alpha-value>)' },
              accent: { 50: 'rgb(var(--color-accent-50) / <alpha-value>)', 100: 'rgb(var(--color-accent-100) / <alpha-value>)', 200: 'rgb(var(--color-accent-200) / <alpha-value>)', 300: 'rgb(var(--color-accent-300) / <alpha-value>)', 400: 'rgb(var(--color-accent-400) / <alpha-value>)', 500: 'rgb(var(--color-accent-500) / <alpha-value>)', 600: 'rgb(var(--color-accent-600) / <alpha-value>)', 700: 'rgb(var(--color-accent-700) / <alpha-value>)', 800: 'rgb(var(--color-accent-800) / <alpha-value>)', 900: 'rgb(var(--color-accent-900) / <alpha-value>)', 950: 'rgb(var(--color-accent-950) / <alpha-value>)' },
              secondary: { 50: 'rgb(var(--color-secondary-50) / <alpha-value>)', 100: 'rgb(var(--color-secondary-100) / <alpha-value>)', 200: 'rgb(var(--color-secondary-200) / <alpha-value>)', 300: 'rgb(var(--color-secondary-300) / <alpha-value>)', 400: 'rgb(var(--color-secondary-400) / <alpha-value>)', 500: 'rgb(var(--color-secondary-500) / <alpha-value>)', 600: 'rgb(var(--color-secondary-600) / <alpha-value>)', 700: 'rgb(var(--color-secondary-700) / <alpha-value>)', 800: 'rgb(var(--color-secondary-800) / <alpha-value>)', 900: 'rgb(var(--color-secondary-900) / <alpha-value>)', 950: 'rgb(var(--color-secondary-950) / <alpha-value>)' },
              slate: { 50: 'rgb(var(--color-neutral-50) / <alpha-value>)', 100: 'rgb(var(--color-neutral-100) / <alpha-value>)', 200: 'rgb(var(--color-neutral-200) / <alpha-value>)', 300: 'rgb(var(--color-neutral-300) / <alpha-value>)', 400: 'rgb(var(--color-neutral-400) / <alpha-value>)', 500: 'rgb(var(--color-neutral-500) / <alpha-value>)', 600: 'rgb(var(--color-neutral-600) / <alpha-value>)', 700: 'rgb(var(--color-neutral-700) / <alpha-value>)', 800: 'rgb(var(--color-neutral-800) / <alpha-value>)', 900: 'rgb(var(--color-neutral-900) / <alpha-value>)', 950: 'rgb(var(--color-neutral-950) / <alpha-value>)' },
              success: 'rgb(var(--color-success) / <alpha-value>)',
              warning: 'rgb(var(--color-warning) / <alpha-value>)',
              danger: 'rgb(var(--color-danger) / <alpha-value>)',
              info: 'rgb(var(--color-info) / <alpha-value>)',
              'on-accent': 'rgb(var(--color-text-on-accent) / <alpha-value>)',
            },
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              display: ['Lexend', 'sans-serif'],
              mono: ['IBM Plex Mono', 'monospace'],
            },
            boxShadow: {
                'glow-primary': '0 0 15px rgb(var(--color-primary-500) / 0.5), 0 0 5px rgb(var(--color-primary-500) / 0.6)',
                'inner-glow': 'inset 0 1px 2px rgb(255 255 255 / 0.1)',
            },
            keyframes: {
              pulse: { '50%': { opacity: '0.5' } },
              'fade-in': { from: { opacity: 0, transform: 'translateY(-10px)' }, to: { opacity: 1, transform: 'translateY(0)' } },
              'slide-down-fade-in': { from: { opacity: 0, transform: 'translateY(-0.5rem) scale(0.98)' }, to: { opacity: 1, transform: 'translateY(0) scale(1)' } },
              'favorite-glow': {
                '0%': { textShadow: '0 0 5px rgba(var(--color-primary-400), 0)' },
                '50%': { textShadow: '0 0 20px rgba(var(--color-primary-400), 0.8)' },
                '100%': { textShadow: '0 0 5px rgba(var(--color-primary-400), 0)' },
              },
              'fade-in-overlay': { from: { opacity: 0 }, to: { opacity: 1 } },
              'slide-in-up': { from: { transform: 'translateY(100%)' }, to: { transform: 'translateY(0)' } },
              'fade-in-stagger': { from: { opacity: 0, transform: 'translateY(10px)' }, to: { opacity: 1, transform: 'translateY(0)' } },
              'pulse-border': { '50%': { borderColor: 'rgba(var(--color-primary-500), 0.6)' } },
              'shimmer': {
                '0%': { backgroundPosition: '-100% 0' },
                '100%': { backgroundPosition: '100% 0' },
              },
              'aurora': {
                  from: { backgroundPosition: '50% 50%, 50% 50%' },
                  to: { backgroundPosition: '350% 50%, 350% 50%' },
              },
            },
            animation: {
              'pulse': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
              'fade-in': 'fade-in 0.3s ease-out forwards',
              'slide-down-fade-in': 'slide-down-fade-in 0.15s ease-out forwards',
              'favorite-glow': 'favorite-glow 1.s ease-in-out',
              'modal-overlay-animate': 'fade-in-overlay 0.3s ease-out forwards',
              'modal-content-animate': 'fade-in 0.3s ease-out forwards',
              'slide-in-up': 'slide-in-up 0.3s cubic-bezier(0.2, 0.8, 0.2, 1) forwards',
              'fade-in-stagger': 'fade-in-stagger 0.4s ease-out forwards',
              'pulse-glow': 'pulse-glow 2.5s ease-in-out infinite',
              'shimmer': 'shimmer 1.5s infinite linear',
              'aurora': 'aurora 8s linear infinite',
            },
          }
        },
        plugins: [
          tailwind.plugins.typography,
          function({ addBase, addComponents }) {
            addBase({
              'body': {
                backgroundColor: 'rgb(var(--color-bg-primary))',
                color: 'rgb(var(--color-neutral-200))',
                transition: 'background-color 0.3s ease, color 0.3s ease',
              },
              '::-webkit-scrollbar': { width: '8px', height: '8px' },
              '::-webkit-scrollbar-track': { background: 'rgb(var(--color-bg-primary))' },
              '::-webkit-scrollbar-thumb': { backgroundColor: 'rgb(var(--color-bg-component))', borderRadius: '4px' },
              '::-webkit-scrollbar-thumb:hover': { backgroundColor: 'rgb(var(--color-border))' },
              '*': { scrollbarWidth: 'thin', scrollbarColor: 'rgb(var(--color-bg-component)) rgb(var(--color-bg-primary))' },
              'kbd': { backgroundColor: 'rgb(var(--color-bg-primary))', border: '1px solid rgb(var(--color-border))', borderRadius: '4px', padding: '2px 6px', fontSize: '0.75em', fontFamily: 'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace', color: 'rgb(var(--color-neutral-300))' },
              'html.dyslexia-font *': { fontFamily: "'IBM Plex Mono', monospace !important" },
              'button, [role="button"]': {
                  'transition-property': 'transform, background-color, border-color, color, box-shadow, filter',
                  'transition-timing-function': 'cubic-bezier(0.4, 0, 0.2, 1)',
                  'transition-duration': '150ms'
              },
              'button:active, [role="button"]:active': {
                  transform: 'scale(0.97)',
                  filter: 'brightness(0.9)',
                  'transition-duration': '75ms'
              },
            });
            addComponents({
              '.glass-pane': { 
                backgroundColor: 'rgb(var(--color-bg-component))',
                border: '1px solid rgb(var(--color-border))',
                boxShadow: '0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)',
                position: 'relative',
                overflow: 'hidden',
              },
              '.card-interactive': {
                transitionProperty: 'transform, box-shadow',
                transitionDuration: '200ms',
                willChange: 'transform'
              },
              '.card-interactive::after': {
                content: '""',
                position: 'absolute',
                left: 'var(--x, 50%)',
                top: 'var(--y, 50%)',
                transform: 'translate(-50%, -50%)',
                width: '300px',
                height: '300px',
                background: 'radial-gradient(circle, rgb(var(--color-primary-700) / 0.2) 0%, transparent 70%)',
                opacity: 0,
                transition: 'opacity 0.5s',
                pointerEvents: 'none',
              },
              '.card-interactive:hover::after': {
                opacity: 1
              },
              '#toast-container': { position: 'fixed', top: '1rem', right: '1rem', zIndex: 1000, display: 'flex', flexDirection: 'column', gap: '0.5rem', alignItems: 'flex-end' },
              '.toast': { backgroundColor: 'rgb(var(--color-bg-component))', border: '1px solid rgb(var(--color-border))', backdropFilter: 'blur(8px)', '-webkit-backdrop-filter': 'blur(8px)', transition: 'all 0.3s ease-in-out' },
              '.toast-entering': { opacity: 0, transform: 'translateX(100%)' },
              '.toast-entered': { opacity: 1, transform: 'translateX(0)' },
              '.toast-exiting': { opacity: 0, transform: 'scale(0.9)' },
              '.favorite-btn-glow': { transition: 'color 0.3s ease' },
              '.favorite-btn-glow.is-favorite': { color: 'rgb(var(--color-primary-400))', animation: 'favorite-glow 1s ease-in-out' },
              '.history-chart-grid line, .history-chart-grid path': { stroke: 'rgb(var(--color-border))', strokeOpacity: '0.5' },
              '.history-chart-labels': { fill: 'rgb(var(--color-neutral-400))', fontSize: '10px', fontFamily: "'IBM Plex Mono', monospace" },
              '.offline-banner': { backgroundColor: 'rgb(var(--color-primary-800))', color: 'rgb(var(--color-primary-100))', textAlign: 'center', padding: '0.5rem', fontSize: '0.875rem', fontWeight: '500' },
              '.empty-slot-pulse': { animation: 'pulse-border 2.5s cubic-bezier(0.4, 0, 0.6, 1) infinite' },
              '.no-scrollbar::-webkit-scrollbar': { display: 'none' },
              '.no-scrollbar': { '-ms-overflow-style': 'none', 'scrollbar-width': 'none' },
              '.horizontal-scrollbar::-webkit-scrollbar': { height: '6px' },
              '.horizontal-scrollbar::-webkit-scrollbar-track': { background: 'transparent' },
              '.horizontal-scrollbar::-webkit-scrollbar-thumb': { backgroundColor: 'rgb(var(--color-neutral-800))', borderRadius: '3px', border: '1px solid transparent' },
              '.horizontal-scrollbar::-webkit-scrollbar-thumb:hover': { backgroundColor: 'rgb(var(--color-neutral-700))' },
              '.horizontal-scrollbar': { 'scrollbar-width': 'thin', 'scrollbar-color': 'rgb(var(--color-neutral-800)) transparent', 'scroll-snap-type': 'x mandatory' },
              '.horizontal-scrollbar > *': { 'scroll-snap-align': 'start' },
              '.reduced-motion *, .reduced-motion *::before, .reduced-motion *::after': { animationDuration: '0.01ms !important', animationIterationCount: '1 !important', transitionDuration: '0.01ms !important', scrollBehavior: 'auto !important' },
              '.ui-density-compact .glass-pane, .ui-density-compact .card-interactive, .ui-density-compact .p-4': { padding: '0.75rem' },
              '.ui-density-compact .py-2': { paddingTop: '0.25rem', paddingBottom: '0.25rem' },
              '.ui-density-compact .text-sm': { fontSize: '0.8rem' },
              '.ui-density-compact .text-xs': { fontSize: '0.7rem' },
              '.tts-disabled .speakable-button': { display: 'none !important' },
              '.speakable-highlight': { backgroundColor: 'rgb(var(--color-primary-800) / 0.4)', boxShadow: 'inset 0 0 0 2px rgb(var(--color-primary-500))', borderRadius: '4px', transition: 'background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out' },
              '.genealogy-link': { fill: 'none', stroke: 'rgb(var(--color-border))', strokeWidth: '1px', opacity: '0.5' },
              '.side-nav-container': { position: 'relative' },
              '.side-nav-indicator': { position: 'absolute', left: '-0.5rem', width: '4px', backgroundColor: 'rgb(var(--color-primary-400))', borderRadius: '4px', transition: 'top 0.3s cubic-bezier(0.4, 0, 0.2, 1), height 0.3s cubic-bezier(0.4, 0, 0.2, 1)', boxShadow: '0 0 10px rgb(var(--color-primary-400))' },
            })
          }
        ]
      }
    </script>
    <style>
      @keyframes pulse-glow {
        50% {
          filter: drop-shadow(0 0 10px rgba(var(--color-primary-400), 0.8));
        }
      }
      .animate-pulse-glow {
        animation: pulse-glow 2.5s ease-in-out infinite;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <div id="toast-container"></div>
    <script type="module" src="index.tsx"></script>
    <script src="/register-sw.js"></script>
  </body>
</html>